%% neurips_2025.sty â€” Minimal NeurIPS 2025-compatible style file
%% Based on the public NeurIPS 2025 template.
%% For the official version: https://neurips.cc/Conferences/2025/PaperInformation/StyleFiles

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{neurips_2025}[2025/01/01 NeurIPS 2025 Style]

%% ---------------------------------------------------------------------------
%% Options
%% ---------------------------------------------------------------------------
\newif\if@preprint\@preprinttrue
\newif\if@final\@finalfalse
\newif\if@nonatbib\@nonatbibfalse

\DeclareOption{preprint}{\@preprinttrue\@finalfalse}
\DeclareOption{final}{\@preprintfalse\@finaltrue}
\DeclareOption{nonatbib}{\@nonatbibtrue}
\ProcessOptions\relax

%% ---------------------------------------------------------------------------
%% Page geometry (letter, 1-inch margins, two-column feel via single column)
%% ---------------------------------------------------------------------------
\RequirePackage[
  letterpaper,
  top=1in,
  bottom=1in,
  left=1.5in,
  right=1.5in,
  columnsep=0.25in
]{geometry}

%% ---------------------------------------------------------------------------
%% Fonts and encoding
%% ---------------------------------------------------------------------------
\RequirePackage[T1]{fontenc}
\RequirePackage[utf8]{inputenc}
\RequirePackage{microtype}
\RequirePackage{times}

%% ---------------------------------------------------------------------------
%% Spacing
%% ---------------------------------------------------------------------------
\setlength{\parskip}{0pt}
\setlength{\parindent}{12pt}

%% ---------------------------------------------------------------------------
%% Section formatting
%% ---------------------------------------------------------------------------
\RequirePackage{titlesec}
\titleformat{\section}{\large\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}{\normalsize\bfseries}{\thesubsection}{1em}{}
\titleformat{\subsubsection}{\normalsize\itshape}{\thesubsubsection}{1em}{}
\titlespacing{\section}{0pt}{10pt}{4pt}
\titlespacing{\subsection}{0pt}{8pt}{2pt}
\titlespacing{\subsubsection}{0pt}{6pt}{2pt}

%% ---------------------------------------------------------------------------
%% Title block
%% ---------------------------------------------------------------------------
\RequirePackage{authblk}
\renewcommand\Affilfont{\small\itshape}
\renewcommand\Authfont{\normalsize\bfseries}
\renewcommand\Authands{ and }

\def\@maketitle{%
  \newpage
  \null
  \begin{center}
    {\LARGE\bfseries \@title \par}
    \vskip 1em
    {\@author}
    \vskip 0.5em
    \if@preprint
      {\small\textit{Preprint. Under review.}}
    \fi
  \end{center}
  \vskip 1.5em
}

%% ---------------------------------------------------------------------------
%% Abstract
%% ---------------------------------------------------------------------------
\renewenvironment{abstract}{%
  \begin{center}
    \begin{minipage}{0.9\linewidth}
      \vspace{0.5em}
      {\bfseries Abstract}
      \vspace{0.5em}
      \par\small
}{%
    \end{minipage}
  \end{center}
  \vspace{1em}
  \hrule
  \vspace{1em}
}

%% ---------------------------------------------------------------------------
%% Natbib
%% ---------------------------------------------------------------------------
\if@nonatbib\else
  \RequirePackage[numbers,compress,sort]{natbib}
  \bibliographystyle{abbrvnat}
\fi

%% ---------------------------------------------------------------------------
%% Hyperref (loaded last)
%% ---------------------------------------------------------------------------
\RequirePackage[
  colorlinks=true,
  linkcolor=blue!60!black,
  citecolor=blue!60!black,
  urlcolor=blue!60!black
]{hyperref}

\endinput
